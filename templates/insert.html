{% extends 'index.html' %}

{% block title %}查询{%  endblock %}


{% block middlepart %}

<form class = "form-horizontal" role = "form" action="{% url 'submit_data' %}" method="post" name='ipForm'
      onsubmit="return ValidateIPaddress(document.ipForm.address)">{% csrf_token %}

   <div class = "form-group">
      <label  class = "col-sm-2 control-label">IP地址</label>

      <div class = "col-sm-10">
         <input type = "text" class = "form-control" placeholder = "输入IP地址" name="address" >
      </div>
   </div>

   <div class = "form-group">
      <label class = "col-sm-2 control-label">主机组</label>

      <div class = "col-sm-10">
         <input type = "text" class = "form-control" placeholder = "输入主机组" name="group_name">
      </div>
   </div>

   <div class = "form-group">
      <div class = "col-sm-offset-2 col-sm-10">
         <button type = "submit" class = "btn btn-default">提交</button>
      </div>
   </div>
</form>
{% if h_status == 0 %}
<div class="alert alert-success" role="alert">
  <strong>恭喜你!<a href="{% url 'search' %}">点我查看数据</a></strong> 插入数据成功!!!!
</div>
{% endif %}
    <script>
        /**
         * @return {boolean}
         */
        function ValidateIPaddress(inputText)
         {
             var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
             if(!inputText.value.match(ipformat)){
                alert("请输入合法ip地址!");
                inputText.value = "";
                return false;
             }
            return true;
         }
    </script>
    <script src="/static/js/jquery.min.js" ></script>
    <script src="/static/js/bootstrap-table.js"></script>
{% endblock %}